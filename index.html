
<script src="/assets/js/my-edits.js"></script>
<source src="/assets/css/">
<!Doctype html>
<html lang="ar" dir="rtl" class="locale-ar dir-rtl rtl">


    <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- CSRF Token -->
    <meta name="csrf-token" content="IUpfBD6fsFJPTbdsRJSdQKOwer3iWI9iEVxVdnq8">

    
    <!--     Fonts and icons     -->
    <link href="/assets/css/fonts.css" rel="stylesheet" />
  <!-- Nucleo Icons -->
  

  
  <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="/assets/css/icons.css" integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="/assets/css/fa_all.min.css" integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <!-- CSS Files -->
    <link id="pagestyle" href="/assets/css/main.css" rel="stylesheet" />
  <!-- RTL Support CSS -->
    <link href="/assets/css/rtl-support.css" rel="stylesheet" />

  
    <link rel="icon" type="image/x-icon" href="/assets/img/dash.ico">

  <!-- Nepcha Analytics (nepcha.com) -->
  <!-- Nepcha is a easy-to-use web analytics. No cookies and fully compliant with GDPR, CCPA and PECR. -->
  
</head>
        <body class="g-sidenav-show  bg-gray-100">

            <aside class="sidenav navbar navbar-vertical navbar-expand-xs border-0 border-radius-xl my-3 fixed-start ms-3 " id="sidenav-main">
    <div class="sidenav-header">
      <i class="fas fa-times p-3 cursor-pointer text-secondary opacity-5 position-absolute end-0 top-0 d-none d-xl-none" aria-hidden="true" id="iconSidenav"></i>
      <a class="navbar-brand m-0" href="./home.html">
        
        <span class="me-1 font-weight-bold">Somi Cafe</span>
      </a>
    </div>
    <hr class="horizontal dark mt-0">
    <div class="collapse navbar-collapse  w-auto " id="sidenav-collapse-main">
      <ul class="navbar-nav">
                  
                    <li class="nav-item">
                        <a class="nav-link" href="#">
              <div class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center ms-2 d-flex align-items-center justify-content-center">
                <i class="fa-solid fa-store text-dark text-gradient text-lg opacity-10"></i>
              </div>
              <span class="nav-link-text me-1">Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</span>
            </a>
          </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">
              <div class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center ms-2 d-flex align-items-center justify-content-center">
                <i class="fa-solid fa-user-tie text-dark text-gradient text-lg opacity-10"></i>
              </div>
              <span class="nav-link-text me-1">Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†</span>
            </a>
          </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">
              <div class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center ms-2 d-flex align-items-center justify-content-center">
                <i class="fa-solid fa-people-roof text-dark text-gradient text-lg opacity-10"></i>
              </div>
              <span class="nav-link-text me-1">Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ÙˆØ§Ø±Ø¯ Ø§Ù„Ø¨Ø´Ø±ÙŠØ©</span>
            </a>
          </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">
              <div class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center ms-2 d-flex align-items-center justify-content-center">
                <i class="fa-solid fa-list-check text-dark text-gradient text-lg opacity-10"></i>
              </div>
              <span class="nav-link-text me-1">Ø§Ù„Ù…Ù‡Ø§Ù…</span>
            </a>
          </li>
          <li class="nav-item">
          <a class="nav-link  " href="#">
            <div class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center ms-2 d-flex align-items-center justify-content-center">
              <i class="fa-solid fa-money-bill text-dark text-gradient text-lg opacity-10"></i>
            </div>
            <span class="nav-link-text me-1">Ø§Ù„ØªÙƒØ§Ù„ÙŠÙ</span>
          </a>
          </li>
                <li class="nav-item">
                <a class="nav-link  " href="#">
              <div class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center ms-2 d-flex align-items-center justify-content-center">
                <i class="fa-solid fa-truck-field text-dark text-gradient text-lg opacity-10"></i>
              </div>
              <span class="nav-link-text me-1">Ø§Ù„ÙƒØ§Ø´ÙŠØ±</span>
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link  " href="#">
              <div class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center ms-2 d-flex align-items-center justify-content-center">
                <i class="fa-solid fa-truck-field text-dark text-gradient text-lg opacity-10"></i>
              </div>
              <span class="nav-link-text me-1">Ø§Ù„Ù…ÙˆØ±Ø¯ÙŠÙ†</span>
            </a>
        </li>
          <li class="nav-item">
          <a class="nav-link" href="#">
            <div class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center ms-2 d-flex align-items-center justify-content-center">
              <i class="fa-solid fa-list text-dark text-gradient text-lg opacity-10"></i>
            </div>
            <span class="nav-link-text me-1">Ø§Ù„ÙØ¦Ø§Øª</span>
          </a>
        </li>
          <li class="nav-item">
          <a class="nav-link" href="#">
            <div class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center ms-2 d-flex align-items-center justify-content-center">
              <i class="fa-solid fa-utensils text-dark text-gradient text-lg opacity-10"></i>
            </div>
            <span class="nav-link-text me-1">Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª</span>
          </a>
        </li>
          <li class="nav-item">
          <a class="nav-link" href="#">
            <div class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center ms-2 d-flex align-items-center justify-content-center">
              <i class="fa-solid fa-bowl-rice text-dark text-gradient text-lg opacity-10"></i>
            </div>
            <span class="nav-link-text me-1">Ø§Ù„ÙˆØ¬Ø¨Ø§Øª</span>
          </a>
        </li>
          <li class="nav-item">
          <a class="nav-link" href="#">
            <div class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center ms-2 d-flex align-items-center justify-content-center">
              <i class="fa-solid fa-users-line text-dark text-gradient text-lg opacity-10"></i>
            </div>
            <span class="nav-link-text me-1">Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</span>
          </a>
        </li>
          <li class="nav-item">
          <a class="nav-link" href="#">
            <div class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center ms-2 d-flex align-items-center justify-content-center">
              <i class="fa-solid fa-calendar-check text-dark text-gradient text-lg opacity-10"></i>
            </div>
            <span class="nav-link-text me-1">Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª</span>
          </a>
        </li>
          <li class="nav-item">
          <a class="nav-link  " href="#">
            <div class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center ms-2 d-flex align-items-center justify-content-center">
              <i class="fa-solid fa-cart-plus text-dark text-gradient text-lg opacity-10"></i>
            </div>
            <span class="nav-link-text me-1">Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª</span>
          </a>
        </li>
          <li class="nav-item">
          <a class="nav-link  " href="#">
            <div class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center ms-2 d-flex align-items-center justify-content-center">
              <i class="fa-solid fa-kitchen-set text-dark text-gradient text-lg opacity-10"></i>
            </div>
            <span class="nav-link-text me-1">Ø§Ù„Ù…Ø·Ø¨Ø®</span>
          </a>
        </li>
          <li class="nav-item">
          <a class="nav-link" href="#">
            <div class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center ms-2 d-flex align-items-center justify-content-center">
              <i class="fa-solid fa-cash-register text-dark text-gradient text-lg opacity-10"></i>
            </div>
            <span class="nav-link-text me-1">Ø§Ù„ÙƒØ§Ø´ÙŠØ±</span>
          </a>
        </li>
          <li class="nav-item">
          <a class="nav-link" href="#">
            <div class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center ms-2 d-flex align-items-center justify-content-center">
              
              <i class="fa-brands fa-adversal text-dark text-gradient text-lg opacity-10"></i>
            </div>
            <span class="nav-link-text me-1">app.nav.ads</span>
          </a>
        </li>
          <li class="nav-item">
          <a class="nav-link" href="#">
            <div class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center ms-2 d-flex align-items-center justify-content-center">
              <i class="fa-regular fa-face-grin-beam text-dark text-gradient text-lg opacity-10"></i>
            </div>
            <span class="nav-link-text me-1">app.nav.popular</span>
          </a>
        </li>
          <li class="nav-item">
          <a class="nav-link" href="#">
            <div class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center ms-2 d-flex align-items-center justify-content-center">
              <i class="fa-solid fa-comments text-dark text-gradient text-lg opacity-10"></i>
            </div>
            <span class="nav-link-text me-1">app.nav.feedbacks</span>
          </a>
        </li>
          <li class="nav-item">
          <a href="#" class="nav-link">
            <div class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center ms-2 d-flex align-items-center justify-content-center">
              <i class="fa-solid fa-envelope text-dark text-gradient text-lg opacity-10"></i>
            </div>
            <span class="nav-link-text me-1">Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ø£ÙˆØªÙˆÙ…Ø§ØªÙŠÙƒÙŠØ©</span>
          </a>
        </li>
                <li class="nav-item">
                    <a href="#" class="nav-link">
            <div class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center ms-2 d-flex align-items-center justify-content-center">
              <i class="fab fa-whatsapp text-success text-gradient text-lg opacity-10"></i>
            </div>
            <span class="nav-link-text me-1">ÙˆØ§ØªØ³Ø§Ø¨</span>
          </a>
        </li>
                
        <li class="nav-item">
          <a data-bs-toggle="collapse" href="#navbar-forms" class="nav-link  " aria-controls="navbar-forms" role="button" aria-expanded="false">
            <div class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center ms-2 d-flex align-items-center justify-content-center">
              <i class="fa-solid fa-robot text-dark text-gradient text-lg opacity-10"></i>
            </div>
            <span class="nav-link-text me-1">ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ</span>
          </a>
          <div class="collapse" id="navbar-forms">
            <ul class="nav me-4 pe-3">
              <li class="nav-item">
                <a class="nav-link  " href="#">
                  <span class="sidenav-normal"> Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ </span>
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link  " href="#">
                  <span class="sidenav-normal"> Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª </span>
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link  " href="#">
                  <span class="sidenav-normal"> Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª </span>
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link  " href="#">
                  <span class="sidenav-normal"> Ø§Ù„ØªÙƒØ§Ù„ÙŠÙ </span>
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link  " href="#">
                  <span class="sidenav-normal"> Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ </span>
                </a>
              </li>
            </ul>
          </div>
        </li>
        <li class="nav-item mt-3">
          <h6 class="pe-4 me-2 text-uppercase text-xs font-weight-bolder opacity-6">ØµÙØ­Ø§Øª Ø§Ù„Ø­Ø³Ø§Ø¨</h6>
        </li>
          <li class="nav-item">
            <a class="nav-link  " href="#">
              <div class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center ms-2 d-flex align-items-center justify-content-center">
                <i class="fa-solid fa-gears text-dark text-gradient text-lg opacity-10"></i>
              </div>
              <span class="nav-link-text me-1">Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ</span>
            </a>
          </li>
              </ul>
    </div>
    <div class="sidenav-footer mx-3 ">
      <div class="card card-background shadow-none card-background-mask-secondary" id="sidenavCard">
    <div class="full-background" style="background-image: url('/assets/img/curved-images/white-curved.jpg')"></div>
        <div class="card-body text-end p-3 w-100">
          <div class="icon icon-shape icon-sm bg-white shadow text-center mb-3 d-flex align-items-center justify-content-center border-radius-md">
            <i class="fa-solid fa-diamond-turn-right text-dark text-gradient text-lg top-0"></i>
          </div>
          <h5 class="text-dark up mb-0">Ø³ÙˆØ¨Ø± Ø³ÙŠÙ„Ø²</h5>
          <p class="text-xs text-dark mb-0 font-weight-bold">Ø£ÙØ¶Ù„ Ø·Ø±ÙŠÙ‚Ø© Ù„Ø¥Ø¯Ø§Ø±Ø© Ù…Ø¨ÙŠØ¹Ø§ØªÙƒ</p>
        </div>
      </div>
      <a class="btn btn-primary mt-3 w-100" href="https://api.whatsapp.com/send?phone=201100335498">Ø§ØªØµÙ„ Ø¨Ù†Ø§</a>
    </div>
</aside>
            <main class="main-content position-relative max-height-vh-100 h-100 border-radius-lg ">
                <nav class="navbar navbar-main navbar-expand-lg px-0 mx-4 shadow-none border-radius-xl" id="navbarBlur" navbar-scroll="true">
    <div class="container-fluid py-1 px-3">
      <nav aria-label="breadcrumb">
        <ol class="breadcrumb bg-transparent mb-0 pb-0 pt-1 px-0 me-sm-6 me-5">
          <li class="breadcrumb-item text-sm"><a class="opacity-5 text-dark" href="./home.html">Ø§Ù„ØµÙØ­Ø§Øª</a></li>
          <li class="breadcrumb-item text-sm text-dark active page-name-e" aria-current="page">Dashboard</li>
        </ol>
        <h6 class="font-weight-bolder mb-0 page-name-e">Dashboard</h6>
      </nav>
      <div class="collapse navbar-collapse mt-sm-0 mt-2 me-md-0 me-sm-4" id="navbar">
        <div class="ms-md-auto pe-md-3 d-flex align-items-center min-width-30  search-container">
          <form method="GET" action="./search" class="w-100" onsubmit="(e) => e.preventDefault()">
<div class="input-group position-relative">
    <span class="input-group-text text-body"><i class="fas fa-search" aria-hidden="true"></i></span>
    <input type="text"
            name="q"
            class="form-control"
            placeholder="Ø¨Ø­Ø« ÙÙŠ ÙƒÙ„ Ø´ÙŠØ¡./..."
            id="globalSearchInput"
            autocomplete="off"
            value="">

    <!-- Search Suggestions Dropdown -->
    <div id="searchSuggestions" class="position-absolute bg-white border rounded shadow-lg w-100 d-none" style="top: 100%; z-index: 9999; left: 0; margin-top: 2px; min-width: 30%;">
        <div class="p-2">
            <div class="text-muted small mb-2">Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ø³Ø±ÙŠØ¹Ø©:</div>
            <div id="suggestionsList"></div>
        </div>
    </div>
</div>
</form>


<script>
    document.addEventListener('DOMContentLoaded', function() {
    const searchInput = document.getElementById('globalSearchInput');
    const suggestionsContainer = document.getElementById('searchSuggestions');
    const suggestionsList = document.getElementById('suggestionsList');
    let searchTimeout;

    if (searchInput) {
        // Handle input changes for suggestions
        searchInput.addEventListener('input', function() {
            const query = this.value.trim();

            clearTimeout(searchTimeout);

            if (query.length >= 2) {
                searchTimeout = setTimeout(() => {
                    fetchSuggestions(query);
                }, 300);
            } else {
                hideSuggestions();
            }
        });

        // Handle Enter key
        searchInput.addEventListener('keydown', function(e) {
            if (e.key === 'Enter') {
                e.preventDefault();
                if (this.value.trim()) {
                    this.closest('form').submit();
                }
            } else if (e.key === 'Escape') {
                hideSuggestions();
            }
        });

        // Hide suggestions when clicking outside
        document.addEventListener('click', function(e) {
            if (!searchInput.contains(e.target) && !suggestionsContainer.contains(e.target)) {
                hideSuggestions();
            }
        });
    }

    function fetchSuggestions(query) {


        displaySuggestions([
            'Ø¨Ø­Ø« Ø¹Ù† Ù…Ù†ØªØ¬ Ø£',
            'Ø¨Ø­Ø« Ø¹Ù† Ù…Ù†ØªØ¬ Ø¨',
            'Ø¨Ø­Ø« Ø¹Ù† Ø¹Ù…ÙŠÙ„ Ø¬',
            'Ø¨Ø­Ø« Ø¹Ù† Ø·Ù„Ø¨ Ø¬',
        ])


        // fetch(`http://127.0.0.1:8000/search/suggestions?q=${encodeURIComponent(query)}`)
        //     .then(response => {
        //         if (!response.ok) {
        //             throw new Error(`HTTP error! status: ${response.status}`);
        //         }
        //         return response.json();
        //     })
        //     .then(suggestions => {
        //         displaySuggestions(suggestions, query);
        //     })
        //     .catch(error => {
        //         console.error('Error fetching suggestions:', error);
        //         hideSuggestions();
        //     });
    }

    function displaySuggestions(suggestions, query) {

        if (!suggestions || suggestions.length === 0) {
            hideSuggestions();
            return;
        }

        suggestionsList.innerHTML = suggestions.map(suggestion =>
            `<div class="suggestion-item p-2 rounded cursor-pointer hover-bg-light" onclick="selectSuggestion('${suggestion.replace(/'/g, "\\'")}')">
                <i class="fas fa-search me-2 text-muted"></i>
                ${suggestion}
            </div>`
        ).join('');

        suggestionsContainer.classList.remove('d-none');

    }

    function hideSuggestions() {
        suggestionsContainer.classList.add('d-none');
    }

    window.selectSuggestion = function(suggestion) {
        return true;
        searchInput.value = suggestion;
        hideSuggestions();
        searchInput.closest('form').submit();
    };
});
</script>

<style>
#searchSuggestions {
    max-height: 300px;
    overflow-y: auto;
    border: 1px solid #dee2e6 !important;
    box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15) !important;
}

.suggestion-item {
    transition: background-color 0.2s ease;
    cursor: pointer;
}

.suggestion-item:hover {
    background-color: #f8f9fa !important;
}

.cursor-pointer {
    cursor: pointer;
}

/* Force visibility when not hidden */
#searchSuggestions:not(.d-none) {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
}
</style>        </div>
        <ul class="navbar-nav justify-content-end">
          <li class="nav-item d-flex align-items-center">
            <div class="dropdown language-switcher">
    <button class="btn btn-outline-secondary dropdown-toggle d-flex align-items-center"
            type="button"
            id="languageDropdown"
            data-bs-toggle="dropdown"
            aria-expanded="false"
            title="Ø§Ù„Ù„ØºØ©">
        <span class="flag me-2">ğŸ‡ªğŸ‡¬</span>
        <span class="language-name d-none d-md-inline">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</span>
    </button>

    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="languageDropdown">
                    <li>
                <a class="dropdown-item d-flex align-items-center "
                   href="/language/en"
                   onclick="switchLanguage('en'); return false;">
                    <span class="flag me-2">ğŸ‡ºğŸ‡¸</span>
                    <span class="language-info">
                        <span class="language-native">English</span>
                        <small class="text-muted d-block">English</small>
                    </span>
                                    </a>
            </li>
                    <li>
                <a class="dropdown-item d-flex align-items-center active"
                   href="/language/ar"
                   onclick="switchLanguage('ar'); return false;">
                    <span class="flag me-2">ğŸ‡ªğŸ‡¬</span>
                    <span class="language-info">
                        <span class="language-native">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</span>
                        <small class="text-muted d-block">Arabic</small>
                    </span>
                                            <i class="fas fa-check ms-auto text-success"></i>
                                    </a>
            </li>
            </ul>
</div>

<style>
.language-switcher .dropdown-toggle {
    border: 1px solid #dee2e6;
    background: white;
    color: #495057;
    transition: all 0.3s ease;
}

.language-switcher .dropdown-toggle:hover {
    background: #f8f9fa;
    border-color: #007bff;
}

.language-switcher .dropdown-toggle:focus {
    box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);
}

.language-switcher .dropdown-menu {
    border: 1px solid #dee2e6;
    box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);
    border-radius: 0.375rem;
    min-width: 200px;
}

.language-switcher .dropdown-item {
    padding: 0.75rem 1rem;
    transition: all 0.3s ease;
}

.language-switcher .dropdown-item:hover {
    background-color: #f8f9fa;
}

.language-switcher .dropdown-item.active {
    background-color: #e3f2fd;
    color: #1976d2;
}

.language-switcher .flag {
    font-size: 1.2em;
    width: 24px;
    text-align: center;
}

.language-switcher .language-info {
    flex: 1;
}

.language-switcher .language-native {
    font-weight: 500;
}

/* RTL Support */
[dir="rtl"] .language-switcher .dropdown-menu {
    left: 0;
    right: auto;
}

[dir="rtl"] .language-switcher .flag {
    margin-left: 0.5rem;
    margin-right: 0;
}

[dir="rtl"] .language-switcher .ms-auto {
    margin-left: 0 !important;
    margin-right: auto !important;
}

/* Mobile responsive */
@media (max-width: 768px) {
    .language-switcher .dropdown-menu {
        min-width: 150px;
    }

    .language-switcher .dropdown-item {
        padding: 0.5rem 0.75rem;
    }
}
</style>

<script>
function switchLanguage(locale) {
    // Show loading state
    // const button = document.getElementById('languageDropdown');
    // const originalContent = button.innerHTML;
    // button.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„./...';
    // button.disabled = true;

    // // Add smooth transition effect
    // document.body.style.transition = 'opacity 0.3s ease';
    // document.body.style.opacity = '0.7';

    // Navigate to language switch route
    // window.location.href = "/language/" + locale;
}

// Handle page load
document.addEventListener('DOMContentLoaded', function() {
    // Simple fade in effect
    const languageSwitcher = document.querySelector('.language-switcher');
    if (languageSwitcher) {
        languageSwitcher.style.opacity = '1';
    }
});
</script>
          </li>
          <li class="nav-item d-flex align-items-center me-3">
            <a href="#" class="nav-link text-body font-weight-bold px-0">
              <i class="fa fa-user ms-sm-1"></i>
              <span class="d-sm-inline d-none">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬</span>
            </a>
          </li>
        </ul>
      </div>
    </div>
</nav>
                <style>
  .container-fluid .icon i {
      font-size: 1.5em !important;
      color: #333;
  }

  /* Professional Dashboard Styles */
  .dashboard-card {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    border: none;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    h3 {
        font-size: 1.1em;
    }
    .text-success {
        color: #10ff1d !important;
    }
  }

  .dashboard-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
  }

  .chart-container {
    position: relative;
    height: 300px;
    margin: 10px 0;
  }

  .chart-container.small {
    height: 200px;
  }

  .chart-container.large {
    height: 400px;
  }

  .stat-card {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border-radius: 15px;
    color: white;
    overflow: hidden;
    position: relative;
  }

  .stat-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(45deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0) 100%);
    pointer-events: none;
  }

  .gradient-primary { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
  .gradient-success { background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); }
  .gradient-warning { background: linear-gradient(135deg, #fa709a 0%, #fee140 100%); }
  .gradient-danger { background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%); }
  .gradient-info { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
  .gradient-dark { background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%); }

  .chart-legend {
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
    margin-top: 15px;
    gap: 15px;
  }

  .legend-item {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 12px;
    font-weight: 500;
  }

  .legend-color {
    width: 12px;
    height: 12px;
    border-radius: 50%;
  }

  .metric-card {
    background: white;
    border-radius: 12px;
    padding: 20px;
    text-align: center;
    border: 1px solid #e5e7eb;
  }

  .metric-value {
    font-size: 2rem;
    font-weight: 700;
    color: #1f2937;
    margin-bottom: 5px;
  }

  .metric-label {
    font-size: 0.875rem;
    color: #6b7280;
    font-weight: 500;
  }

  .metric-change {
    font-size: 0.75rem;
    font-weight: 600;
    margin-top: 5px;
    width: fit-content;
  }

  .metric-change.positive { color: #10b981; }
  .metric-change.negative { color: #ef4444; }

  @media (max-width: 768px) {
    .chart-container {
      height: 250px;
    }
    .metric-value {
      font-size: 1.5rem;
    }
  }
</style>
<div class="container-fluid py-4">
    <!-- Enhanced Statistics Cards Row -->
    <!-- Charts Row -->
    <div class="row mb-4">
        <!-- Stats and Filters Row -->
        <div class="row mb-4">
            <!-- Stats Cards Column -->
            <div class="col-xl-7 col-lg-7">
                <div class="row">
                    <!-- Clients Card -->
                    <div class="col-xl-5 col-md-7 mb-4">
                        <div class="card dashboard-card stat-card gradient-primary animate-on-scroll">
                            <div class="card-body p-4">
                                <div class="row align-items-center">
                                    <div class="col-8 text-end">
                                        <div class="icon icon-shape bg-white shadow text-center border-radius-2xl mb-3">
                                            <i class="fa-solid fa-users text-primary text-lg"></i>
                                        </div>
                                        <h3 class="text-white font-weight-bolder mb-1 client_number">
                                            0
                                        </h3>
                                        <span class="text-white text-sm opacity-8">Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</span>
                                    </div>
                                    <div class="col-4 text-end">
                                        <div class="metric-change client_per">
                                            0.0%
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Sales Card -->
                    <div class="col-xl-5 col-md-4 mb-4">
                        <div class="card dashboard-card stat-card gradient-warning animate-on-scroll">
                            <div class="card-body p-4">
                                <div class="row align-items-center">
                                    <div class="col-8 text-end">
                                        <div class="icon icon-shape bg-white shadow text-center border-radius-2xl mb-3">
                                            <i class="fa-solid fa-chart-line text-warning text-lg"></i>
                                        </div>
                                        <h3 class="text-white font-weight-bolder mb-1 sales_number">
                                            0
                                        </h3>
                                        <span class="text-white text-sm opacity-8">Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª</span>
                                    </div>
                                    <div class="col-4 text-end">
                                        <div class="metric-change sales_per">
                                            0.0%
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Revenue Card -->
                    <div class="col-xl-5 col-md-7 mb-4">
                        <div class="card dashboard-card stat-card gradient-danger animate-on-scroll">
                            <div class="card-body p-4">
                                <div class="row align-items-center">
                                    <div class="col-8 text-end">
                                        <div class="icon icon-shape bg-white shadow text-center border-radius-2xl mb-3">
                                            <i class="fa-solid fa-dollar-sign text-danger text-lg"></i>
                                        </div>
                                        <h3 class="text-dark font-weight-bolder mb-1 profits_number" style="font-size: 1.1em;">
                                            $
                                            <span>
                                                0
                                            </span>
                                        </h3>
                                        <span class="text-dark text-sm opacity-8">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª</span>
                                    </div>
                                    <div class="col-4 text-end">
                                        <div class="metric-change profits_per" style="color: #245e27 !important ">
                                            0%
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Costs Card -->
                    <div class="col-xl-5 col-md-7 mb-4">
                        <div class="card dashboard-card stat-card gradient-info animate-on-scroll">
                            <div class="card-body p-4">
                                <div class="row align-items-center">
                                    <div class="col-8 text-end">
                                        <div class="icon icon-shape bg-white shadow text-center border-radius-2xl mb-3">
                                            <i class="fa-solid fa-money-bill text-info text-lg"></i>
                                        </div>
                                        <h3 class="text-white font-weight-bolder mb-1 costs_number">
                                            $0
                                        </h3>
                                        <span class="text-white text-sm opacity-8">Ø§Ù„ØªÙƒØ§Ù„ÙŠÙ</span>
                                    </div>
                                    <div class="col-4 text-end">
                                        <div class="metric-change costs_per">
                                        0%
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Supply Card -->
                    <div class="col-xl-5 col-md-7 mb-4">
                        <div class="card dashboard-card stat-card gradient-success animate-on-scroll">
                            <div class="card-body p-4">
                                <div class="row align-items-center">
                                    <div class="col-8 text-end">
                                        <div class="icon icon-shape bg-white shadow text-center border-radius-2xl mb-3">
                                            <i class="fa-solid fa-truck-field text-info text-lg"></i>
                                        </div>
                                        <h3 class="text-white font-weight-bolder mb-1 supply_number">
                                            0
                                        </h3>
                                        <span class="text-white text-sm opacity-8">Ø§Ù„Ù…ÙˆØ±Ø¯ÙŠÙ†</span>
                                    </div>
                                    <div class="col-4 text-end">
                                        <div class="metric-change supply_per">
                                        0%
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Time Filters Column -->
            <div class="col-xl-5 col-lg-5">
                <div class="card dashboard-card animate-on-scroll">
                    <div class="card-header pb-0 text-end">
                        <h6 class="mb-0">ØªØµÙÙŠØ© Ø­Ø³Ø¨ Ø§Ù„ØªØ§Ø±ÙŠØ®</h6>
                    </div>
                    <div class="card-body p-3">
                        <div class="row g-2" id="filter-buttons">
                            <div class="col-6">
                                <button type="button" class="btn btn-outline-primary w-100 btn-sm border-radius-lg filter-btn" data-filter="last_day">
                                    <i class="fa fa-calendar-day ms-1"></i> Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ù…Ø§Ø¶ÙŠ
                                </button>
                            </div>
                            <div class="col-6">
                                <button type="button" class="btn btn-outline-primary w-100 btn-sm border-radius-lg filter-btn" data-filter="last_week">
                                    <i class="fa fa-calendar-week ms-1"></i> Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„Ù…Ø§Ø¶ÙŠ
                                </button>
                            </div>
                            <div class="col-6">
                                <button type="button" class="btn btn-outline-primary w-100 btn-sm border-radius-lg filter-btn" data-filter="last_month">
                                    <i class="fa fa-calendar-alt ms-1"></i> Ø§Ù„Ø´Ù‡Ø± Ø§Ù„Ù…Ø§Ø¶ÙŠ
                                </button>
                            </div>
                            <div class="col-6">
                                <button type="button" class="btn btn-outline-primary w-100 btn-sm border-radius-lg filter-btn" data-filter="custom">
                                    <i class="fa fa-calendar ms-1"></i> Ù†Ø·Ø§Ù‚ Ù…Ø®ØµØµ
                                </button>
                            </div>
                        </div>

                        <div class="mt-3">
                            <input type='number' name="days" value="10" min="1" class="form-control form-control-sm days-input" placeholder="Ø§ÙƒØªØ¨ Ø§Ù„Ø£ÙŠØ§Ù…">
                        </div>

                        <div class="mt-3">
                            <form action="#" method="POST" onsubmit="null">
                                <input type="hidden" name="_token" value="IUpfBD6fsFJPTbdsRJSdQKOwer3iWI9iEVxVdnq8" autocomplete="off">                                <input type="hidden" name="days" class="form-days-input" value="1">
                                <select class="form-control form-control-sm mb-2" name="type">
                                    <option value="all" selected>Ø§Ù„ÙƒÙ„</option>
                                    <option value="sales">Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª</option>
                                    <option value="products">Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</option>
                                    <option value="clients">Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</option>
                                    <option value="costs">Ø§Ù„ØªÙƒØ§Ù„ÙŠÙ</option>
                                </select>
                                <button type="submit" class="btn btn-success w-100 btn-sm">
                                    <i class="fa-solid fa-file-excel ms-1"></i>
                                    Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù„Ù Ø¥ÙƒØ³Ù„
                                </button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Sales Overview Chart -->
        <div class="col-xl-8 col-lg-7 mb-4">
            <div class="card dashboard-card animate-on-scroll">
                <div class="card-header pb-0 text-end">
                    <h6 class="mb-0">Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª</h6>
                    <p class="text-sm mb-0">
                        <i class="fa fa-arrow-up text-success"></i>
                        <span class="font-weight-bold">Ø§Ù„Ù†Ù…Ùˆ Ø§Ù„Ø´Ù‡Ø±ÙŠ</span>
                    </p>
                </div>
                <div class="card-body p-3">
                    <div class="chart-container">
                        <canvas id="salesOverviewChart"></canvas>
                    </div>
                </div>
            </div>
        </div>

        <!-- Revenue Distribution Pie Chart -->
        <div class="col-xl-4 col-lg-5 mb-4">
            <div class="card dashboard-card animate-on-scroll">
                <div class="card-header pb-0 text-end">
                    <h6 class="mb-0">ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª</h6>
                </div>
                <div class="card-body p-3">
                    <div class="chart-container small">
                        <canvas id="revenueDistributionChart"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Additional Charts Row -->
    <div class="row mb-4">
        <!-- Monthly Sales Bar Chart -->
        <div class="col-xl-6 col-lg-6 mb-4">
            <div class="card dashboard-card animate-on-scroll">
                <div class="card-header pb-0 text-end">
                    <h6 class="mb-0">Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª Ø§Ù„Ø´Ù‡Ø±ÙŠØ©</h6>
                </div>
                <div class="card-body p-3">
                    <div class="chart-container">
                        <canvas id="monthlySalesChart"></canvas>
                    </div>
                </div>
            </div>
        </div>

        <!-- Product Categories Doughnut Chart -->
        <div class="col-xl-6 col-lg-6 mb-4">
            <div class="card dashboard-card animate-on-scroll">
                <div class="card-header pb-0 text-end">
                    <h6 class="mb-0">ØªÙˆØ²ÙŠØ¹ Ø§Ù„ÙØ¦Ø§Øª</h6>
                </div>
                <div class="card-body p-3">
                    <div class="chart-container">
                        <canvas id="categoriesChart"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Advanced Analytics Row -->
    <div class="row mb-4">
        <!-- Sales vs Costs Comparison -->
        <div class="col-xl-8 col-lg-7 mb-4">
            <div class="card dashboard-card animate-on-scroll">
                <div class="card-header pb-0 text-end">
                    <h6 class="mb-0">Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª Ù…Ù‚Ø§Ø¨Ù„ Ø§Ù„ØªÙƒØ§Ù„ÙŠÙ</h6>
                </div>
                <div class="card-body p-3">
                    <div class="chart-container">
                        <canvas id="salesVsCostsChart"></canvas>
                    </div>
                </div>
            </div>
        </div>

        <!-- Performance Metrics Radar Chart -->
        <div class="col-xl-4 col-lg-5 mb-4">
            <div class="card dashboard-card animate-on-scroll">
                <div class="card-header pb-0 text-end">
                    <h6 class="mb-0">Ù…Ù‚Ø§ÙŠÙŠØ³ Ø§Ù„Ø£Ø¯Ø§Ø¡</h6>
                </div>
                <div class="card-body p-3">
                    <div class="chart-container">
                        <canvas id="performanceRadarChart"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Real-time Analytics Row -->
    <div class="row mb-4">
        <!-- Client Growth Line Chart -->
        <div class="col-xl-6 col-lg-6 mb-4">
            <div class="card dashboard-card animate-on-scroll">
                <div class="card-header pb-0 text-end">
                    <h6 class="mb-0">Ù†Ù…Ùˆ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</h6>
                </div>
                <div class="card-body p-3">
                    <div class="chart-container">
                        <canvas id="clientGrowthChart"></canvas>
                    </div>
                </div>
            </div>
        </div>

        <!-- Product Stock Status -->
        <div class="col-xl-6 col-lg-6 mb-4">
            <div class="card dashboard-card animate-on-scroll">
                <div class="card-header pb-0 text-end">
                    <h6 class="mb-0">Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø®Ø²ÙˆÙ†</h6>
                </div>
                <div class="card-body p-3">
                    <div class="chart-container">
                        <canvas id="stockStatusChart"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Advanced Metrics Row -->
    <div class="row mb-4">
        <!-- Sales Funnel Chart -->
        <div class="col-xl-4 col-lg-4 mb-4">
            <div class="card dashboard-card animate-on-scroll">
                <div class="card-header pb-0 text-end">
                    <h6 class="mb-0">Ù…Ø³Ø§Ø± Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª</h6>
                </div>
                <div class="card-body p-3">
                    <div class="chart-container">
                        <canvas id="salesFunnelChart"></canvas>
                    </div>
                </div>
            </div>
        </div>

        <!-- Top Products Horizontal Bar -->
        <div class="col-xl-4 col-lg-4 mb-4">
            <div class="card dashboard-card animate-on-scroll">
                <div class="card-header pb-0 text-end">
                    <h6 class="mb-0">Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ø£Ø¹Ù„Ù‰</h6>
                </div>
                <div class="card-body p-3">
                    <div class="chart-container">
                        <canvas id="topProductsChart"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Ingredients Alerts Row -->
    <div class="row mb-4">
        <!-- Stock Alerts Chart -->
        <div class="col-xl-6 col-lg-6 mb-4">
            <div class="card dashboard-card animate-on-scroll">
                <div class="card-header pb-0 text-end">
                    <div class="d-flex justify-content-between align-items-center">
                        <div>
                            <h6 class="mb-0">ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª</h6>
                            <p class="text-sm mb-0">
                                <i class="fa fa-exclamation-triangle text-warning"></i>
                                <span class="font-weight-bold">ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ø§Ù„Ù…Ø®Ø²ÙˆÙ†</span>
                            </p>
                        </div>
                        <div class="text-end">
                            <span class="badge badge-warning" id="alertsCount">0</span>
                        </div>
                    </div>
                </div>
                <div class="card-body p-3">
                    <div class="chart-container" style="height: 300px;">
                        <canvas id="ingredientsAlertsChart"></canvas>
                    </div>
                    <div class="mt-3" id="alertsDetails" style="display: none;">
                        <div class="row" id="alertsGrid">
                            <!-- Alert items will be populated here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Expiry Alerts Chart -->
        <div class="col-xl-6 col-lg-6 mb-4">
            <div class="card dashboard-card animate-on-scroll">
                <div class="card-header pb-0 text-end">
                    <div class="d-flex justify-content-between align-items-center">
                        <div>
                            <h6 class="mb-0">ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©</h6>
                            <p class="text-sm mb-0">
                                <i class="fa fa-clock text-danger"></i>
                                <span class="font-weight-bold">Ù…ÙƒÙˆÙ†Ø§Øª Ù‚Ø±ÙŠØ¨Ø© Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡</span>
                            </p>
                        </div>
                        <div class="text-end">
                            <span class="badge badge-danger" id="expiryCount">0</span>
                        </div>
                    </div>
                </div>
                <div class="card-body p-3">
                    <div class="chart-container" style="height: 300px;">
                        <canvas id="expiryAlertsChart"></canvas>
                    </div>
                    <div class="mt-3" id="expiryDetails" style="display: none;">
                        <div class="row" id="expiryGrid">
                            <!-- Expiry items will be populated here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>
            </main>
            <div class="fixed-plugin">
    <a class="fixed-plugin-button text-dark position-fixed px-3 py-2">
      <i class="fa fa-cog py-2"> </i>
    </a>
    <div class="card shadow-lg ">
      <div class="card-header pb-0 pt-3 ">
        <div class="float-start">
          <h5 class="mt-3 mb-0"> SOMI Cafe ØªØ®ØµÙŠØµ </h5>
          <p>Ø§Ù†Ø¸Ø± Ø¹Ù„ÙŠ Ø®ØµØ§Ø¦Øµ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</p>
        </div>
        <div class="float-end mt-4">
          <button class="btn btn-link text-dark p-0 fixed-plugin-close-button">
            <i class="fa fa-close"></i>
          </button>
        </div>
        <!-- End Toggle Button -->
      </div>
      <hr class="horizontal dark my-1">
      <div class="card-body pt-sm-3 pt-0">
        <!-- Sidebar Backgrounds -->
        <div>
          <h6 class="mb-0"> Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ </h6>
        </div>
        <a href="javascript:void(0)" class="switch-trigger background-color">
          <div class="badge-colors my-2 text-start">
            <span class="badge filter bg-primary active" data-color="primary" onclick="sidebarColor(this)"></span>
            <span class="badge filter bg-gradient-dark" data-color="dark" onclick="sidebarColor(this)"></span>
            <span class="badge filter bg-gradient-info" data-color="info" onclick="sidebarColor(this)"></span>
            <span class="badge filter bg-gradient-success" data-color="success" onclick="sidebarColor(this)"></span>
            <span class="badge filter bg-gradient-warning" data-color="warning" onclick="sidebarColor(this)"></span>
            <span class="badge filter bg-gradient-danger" data-color="danger" onclick="sidebarColor(this)"></span>
          </div>
        </a>
        <!-- Sidenav Type -->
        <div class="mt-3">
          <h6 class="mb-0"> Ù†ÙˆØ¹ Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ </h6>
          <p class="text-sm"> Ø¥Ø®ØªØ± Ø¨ÙŠÙ† 2 Ù…Ù† Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ </p>
        </div>
        <div class="d-flex">
          <button class="btn btn-primary w-100 px-3 mb-2 active" data-class="bg-transparent" onclick="sidebarType(this)"> Ø´ÙØ§Ù </button>
          <button class="btn btn-primary w-100 px-3 mb-2 ms-2" data-class="bg-white" onclick="sidebarType(this)"> Ø£Ø¨ÙŠØ¶ </button>
        </div>
        <p class="text-sm d-xl-none d-block mt-2"> ØªØ³Ø·ÙŠØ¹ ØªØºÙŠØ± Ù†ÙˆØ¹ Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ ÙÙ‚Ø· ÙÙŠ Ø´Ø§Ø´Ø© Ø§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ± </p>
        <!-- Navbar Fixed -->
        <div class="mt-3">
          <h6 class="mb-0">Ø´Ø±ÙŠØ· Ø¹Ù„ÙˆÙŠ Ù…Ø¹Ù„Ù‚</h6>
        </div>
        <div class="form-check form-switch ps-0">
          <input class="form-check-input mt-1 ms-auto" type="checkbox" id="navbarFixed" onclick="navbarFixed(this)">
        </div>
        <hr class="horizontal dark my-sm-4">
        
        </div>
      </div>
    </div>
</div>

            <footer>

</footer>

<!--   Core JS Files   -->
<script src="/assets/js/core/popper.min.js"></script>
<script src="/assets/js/core/bootstrap.min.js"></script>
<script src="/assets/js/plugins/perfect-scrollbar.min.js"></script>
<script src="/assets/js/plugins/smooth-scrollbar.min.js"></script>
<script src="/assets/js/mainPage.js"></script>
<script src="/assets/js/search.js"></script>

<script src="/assets/js/plugins/chartjs.min.js"></script>
<script>
// Global chart configuration
Chart.defaults.font.family = 'Inter, sans-serif';
Chart.defaults.color = '#6c757d';

// Chart colors
const chartColors = {
    primary: '#667eea',
    secondary: '#764ba2',
    success: '#28a745',
    warning: '#ffc107',
    danger: '#dc3545',
    info: '#17a2b8',
    light: '#f8f9fa',
    dark: '#343a40',
    gradient1: 'rgba(102, 126, 234, 0.8)',
    gradient2: 'rgba(118, 75, 162, 0.8)',
    gradient3: 'rgba(240, 147, 251, 0.8)'
};

// Global variables for charts
let salesOverviewChart, revenueDistributionChart, monthlySalesChart, categoriesChart;
let salesVsCostsChart, performanceRadarChart, clientGrowthChart, topProductsChart;
let salesFunnelChart, stockStatusChart, ingredientsAlertsChart, expiryAlertsChart;

// Fetch chart data and initialize all charts
async function initializeCharts() {
    try {
        // const response =
        // await fetch('/api/chart-data', {

        //     method: 'GET',
        //     headers: {
        //         'X-CSRF-TOKEN': 'IUpfBD6fsFJPTbdsRJSdQKOwer3iWI9iEVxVdnq8'
        //     }
        // });
        // ;

        // const data = await response.json();
       const data = {
            monthly_sales: {
                labels: ['Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ 1', 'Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ 2', 'Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ 3', 'Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ 4'],
                sales: [4200, 5300, 4800, 6100]
            },
            payment_methods: {
                labels: ['Ù†Ù‚Ø¯Ø§Ù‹', 'ÙÙŠØ²Ø§', 'Ù…Ø­ÙØ¸Ø©'],
                data: [7200, 3400, 1200]
            },
            categories: {
                labels: ['Ù…Ø´Ø±ÙˆØ¨Ø§Øª', 'Ø³Ø§Ù†Ø¯ÙˆÙŠØ´', 'Ø­Ù„ÙˆÙŠØ§Øª', 'ÙˆØ¬Ø¨Ø§Øª'],
                data: [45, 28, 15, 12]
            },
            sales_vs_costs: {
                labels: ['Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ 1', 'Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ 2', 'Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ 3', 'Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ 4'],
                sales: [4200, 5300, 4800, 6100],
                costs: [2500, 2700, 2600, 3000]
            },
            performace_status: {
                sales: 6100,
                clients: 320,
                products: 150,
                costs: 10800,
                supply: 85
            },
            client_growth: {
                labels: ['Ø£Ø³Ø¨ÙˆØ¹ -3', 'Ø£Ø³Ø¨ÙˆØ¹ -2', 'Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„Ù…Ø§Ø¶ÙŠ', 'Ù‡Ø°Ø§ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹'],
                data: [12, 18, 25, 30]
            },
            top_products: {
                labels: ['ÙƒØ§Ø¨ØªØ´ÙŠÙ†Ùˆ', 'Ø§Ø³Ø¨Ø±ÙŠØ³Ùˆ', 'ØªØ´ÙŠØ² ÙƒÙŠÙƒ', 'Ø¨Ø±ØºØ± ÙƒÙ„Ø§Ø³ÙŠÙƒ', 'Ø³Ù†Ø¯ÙˆÙŠØ´ Ø´Ø§ÙˆØ±Ù…Ø§'],
                data: [140, 120, 95, 80, 65]
            },
            sales_funnel: {
                leads: 300,
                prospects: 180,
                customers: 95
            },
            stock_status: {
                in: 220,
                low: 18,
                out: 7
            },
            ingredients_alerts: {
                count: 3,
                details: [
                    // details should include fields used by the UI: name, status, type, value
                    { name: 'Ø­Ù„ÙŠØ¨', qty: 2, threshold: 5, status: 'warning', type: 'ÙƒÙ…ÙŠØ©', value: 2 },
                    { name: 'Ø³ÙƒØ±', qty: 4, threshold: 10, status: 'warning', type: 'ÙƒÙ…ÙŠØ©', value: 4 },
                    { name: 'Ø¨ÙŠØ¶', qty: 1, threshold: 10, status: 'danger', type: 'ÙƒÙ…ÙŠØ©', value: 1 }
                ],
                // original meaning-preserving types array (kept for legacy uses)
                types: ['low', 'low', 'critical'],
                // Chart-friendly fields expected by initIngredientsAlertsChart
                labels: ['Ø­Ù„ÙŠØ¨', 'Ø³ÙƒØ±', 'Ø¨ÙŠØ¶'],
                data: [2, 4, 1],
                // statuses should match expected values used to pick colors (e.g. 'danger' or 'warning')
                statuses: ['warning', 'warning', 'danger']
            },
            expiry_alerts: {
                count: 2,
                // details used to render the list: include status, type and expiry_date
                details: [
                    { name: 'Ø­Ù„ÙŠØ¨', expires_in_days: 5, status: 'warning', type: 'ØªÙ†ØªÙ‡ÙŠ Ø¨Ø¹Ø¯', expiry_date: 'Ø¨Ø¹Ø¯ 5 Ø£ÙŠØ§Ù…' },
                    { name: 'Ø¬Ø¨Ù†Ø©', expires_in_days: 2, status: 'danger', type: 'ØªÙ†ØªÙ‡ÙŠ Ø¨Ø¹Ø¯', expiry_date: 'Ø¨Ø¹Ø¯ 2 ÙŠÙˆÙ…' }
                ],
                // Chart-friendly fields
                labels: ['Ø­Ù„ÙŠØ¨', 'Ø¬Ø¨Ù†Ø©'],
                data: [5, 2],
                statuses: ['warning', 'danger'],
                types: ['expiring', 'expiring']
            },
            
        }

        

        // Initialize all charts with real data
        initSalesOverviewChart(data.monthly_sales);
        initRevenueDistributionChart(data.payment_methods);
        initMonthlySalesChart(data.monthly_sales);
        initCategoriesChart(data.categories);
        initSalesVsCostsChart(data.sales_vs_costs);
        initPerformanceRadarChart(data.performace_status);
        initClientGrowthChart(data.client_growth);
        initTopProductsChart(data.top_products);
        initSalesFunnelChart(data.sales_funnel);
        initStockStatusChart(data.stock_status);
        initIngredientsAlertsChart(data.ingredients_alerts);
        initExpiryAlertsChart(data.expiry_alerts);



    } catch (error) {
        console.error('Error fetching chart data:', error);
        // Initialize with dummy data as fallback
        initChartsWithDummyData();
    }
}

// Sales Overview Chart (Line Chart)
function initSalesOverviewChart(data) {
    const ctx = document.getElementById('salesOverviewChart');
    if (!ctx) return;

    // Destroy existing chart if it exists
    if (salesOverviewChart) {
        salesOverviewChart.destroy();
    }

    // Validate data
    if (!data || !data.labels || !data.sales) {
        console.error('Invalid data for Sales Overview Chart:', data);
        return;
    }

    const gradient = ctx.getContext('2d').createLinearGradient(0, 0, 0, 400);
    gradient.addColorStop(0, 'rgba(102, 126, 234, 0.3)');
    gradient.addColorStop(1, 'rgba(102, 126, 234, 0.05)');

    salesOverviewChart = new Chart(ctx, {
        type: 'line',
        data: {
            labels: data.labels || [],
            datasets: [{
                label: 'Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª',
                data: data.sales || [],
                borderColor: chartColors.primary,
                backgroundColor: gradient,
                borderWidth: 3,
                fill: true,
                tension: 0.4,
                pointBackgroundColor: chartColors.primary,
                pointBorderColor: '#fff',
                pointBorderWidth: 2,
                pointRadius: 6,
                pointHoverRadius: 8
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    display: true,
                    position: 'top',
                    labels: {
                        usePointStyle: true,
                        padding: 20
                    }
                },
                tooltip: {
                    backgroundColor: 'rgba(0, 0, 0, 0.8)',
                    titleColor: '#fff',
                    bodyColor: '#fff',
                    borderColor: chartColors.primary,
                    borderWidth: 1,
                    cornerRadius: 8,
                    displayColors: false
                }
            },
            scales: {
                y: {
                    beginAtZero: true,
                    grid: {
                        color: 'rgba(0, 0, 0, 0.1)',
                        drawBorder: false
                    },
                    ticks: {
                        padding: 10
                    }
                },
                x: {
                    grid: {
                        display: false
                    },
                    ticks: {
                        padding: 10
                    }
                }
            },
            interaction: {
                intersect: false,
                mode: 'index'
            }
        }
    });
}


// Revenue Distribution Chart (Pie Chart)
function initRevenueDistributionChart(data) {
    const ctx = document.getElementById('revenueDistributionChart');
    if (!ctx) return;

    // Destroy existing chart if it exists
    if (revenueDistributionChart) {
        revenueDistributionChart.destroy();
    }

    revenueDistributionChart = new Chart(ctx, {
        type: 'pie',
        data: {
            labels: data.labels.map(label => label || 'app.unknown'),
            datasets: [{
                data: data.data ? data.data: [1,2,3,4],
                backgroundColor: [
                    chartColors.primary,
                    chartColors.secondary,
                    chartColors.success,
                    chartColors.warning,
                    chartColors.danger,
                    chartColors.info
                ],
                borderWidth: 2,
                borderColor: '#fff'
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    position: 'bottom',
                    labels: {
                        padding: 20,
                        usePointStyle: true
                    }
                },
                tooltip: {
                    backgroundColor: 'rgba(0, 0, 0, 0.8)',
                    titleColor: '#fff',
                    bodyColor: '#fff',
                    cornerRadius: 8,
                    callbacks: {
                        label: function(context) {
                            const total = context.dataset.data.reduce((a, b) => a + b, 0);
                            const percentage = ((context.parsed / total) * 100).toFixed(1);
                            return `${context.label}: $${context.parsed.toLocaleString()} (${percentage}%)`;
                        }
                    }
                }
            }
        }
    });
}

// Monthly Sales Chart (Bar Chart)
function initMonthlySalesChart(data) {
    const ctx = document.getElementById('monthlySalesChart');
    if (!ctx) return;

    // Destroy existing chart if it exists
    if (monthlySalesChart) {
        monthlySalesChart.destroy();
    }

    monthlySalesChart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: data.labels,
            datasets: [{
                label: 'Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª',
                data: data.sales,
                backgroundColor: chartColors.gradient1,
                borderColor: chartColors.primary,
                borderWidth: 1,
                borderRadius: 4,
                borderSkipped: false
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    display: false
                },
                tooltip: {
                    backgroundColor: 'rgba(0, 0, 0, 0.8)',
                    titleColor: '#fff',
                    bodyColor: '#fff',
                    cornerRadius: 8
                }
            },
            scales: {
                y: {
                    beginAtZero: true,
                    grid: {
                        color: 'rgba(0, 0, 0, 0.1)',
                        drawBorder: false
                    },
                    ticks: {
                        padding: 10
                    }
                },
                x: {
                    grid: {
                        display: false
                    },
                    ticks: {
                        padding: 10
                    }
                }
            }
        }
    });
}

// Categories Chart (Doughnut Chart)
function initCategoriesChart(data) {
    const ctx = document.getElementById('categoriesChart');
    if (!ctx) return;

    // Destroy existing chart if it exists
    if (categoriesChart) {
        categoriesChart.destroy();
    }

    categoriesChart = new Chart(ctx, {
        type: 'doughnut',
        data: {
            labels: data.labels.map(label => label || 'app.uncategorized'),
            datasets: [{
                data: data.data ? data.data: [1,2,3,4],
                backgroundColor: [
                    chartColors.primary,
                    chartColors.secondary,
                    chartColors.success,
                    chartColors.warning,
                    chartColors.danger,
                    chartColors.info
                ],
                borderWidth: 3,
                borderColor: '#fff',
                hoverBorderWidth: 4
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            cutout: '60%',
            plugins: {
                legend: {
                    position: 'bottom',
                    labels: {
                        padding: 20,
                        usePointStyle: true
                    }
                },
                tooltip: {
                    backgroundColor: 'rgba(0, 0, 0, 0.8)',
                    titleColor: '#fff',
                    bodyColor: '#fff',
                    cornerRadius: 8,
                    callbacks: {
                        label: function(context) {
                            const total = context.dataset.data.reduce((a, b) => a + b, 0);
                            const percentage = ((context.parsed / total) * 100).toFixed(1);
                            return `${context.label}: ${context.parsed} (${percentage}%)`;
                        }
                    }
                }
            }
        }
    });
}

// Sales vs Costs Chart (Mixed Chart)
function initSalesVsCostsChart(data) {
    const ctx = document.getElementById('salesVsCostsChart');
    if (!ctx) return;

    // Destroy existing chart if it exists
    if (salesVsCostsChart) {
        salesVsCostsChart.destroy();
    }

    salesVsCostsChart = new Chart(ctx, {
        type: 'line',
        data: {
            labels: data.labels,
            datasets: [{
                label: 'Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª',
                data: data.sales,
                borderColor: chartColors.success,
                backgroundColor: 'rgba(40, 167, 69, 0.1)',
                borderWidth: 3,
                fill: true,
                tension: 0.4,
                pointBackgroundColor: chartColors.success,
                pointBorderColor: '#fff',
                pointBorderWidth: 2,
                pointRadius: 5
            }, {
                label: 'Ø§Ù„ØªÙƒØ§Ù„ÙŠÙ',
                data: data.costs,
                borderColor: chartColors.danger,
                backgroundColor: 'rgba(220, 53, 69, 0.1)',
                borderWidth: 3,
                fill: true,
                tension: 0.4,
                pointBackgroundColor: chartColors.danger,
                pointBorderColor: '#fff',
                pointBorderWidth: 2,
                pointRadius: 5
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    position: 'top',
                    labels: {
                        usePointStyle: true,
                        padding: 20
                    }
                },
                tooltip: {
                    backgroundColor: 'rgba(0, 0, 0, 0.8)',
                    titleColor: '#fff',
                    bodyColor: '#fff',
                    cornerRadius: 8,
                    callbacks: {
                        label: function(context) {
                            return `${context.dataset.label}: $${context.parsed.y.toLocaleString()}`;
                        }
                    }
                }
            },
            scales: {
                y: {
                    beginAtZero: true,
                    grid: {
                        color: 'rgba(0, 0, 0, 0.1)',
                        drawBorder: false
                    },
                    ticks: {
                        padding: 10,
                        callback: function(value) {
                            return '$' + value.toLocaleString();
                        }
                    }
                },
                x: {
                    grid: {
                        display: false
                    },
                    ticks: {
                        padding: 10
                    }
                }
            },
            interaction: {
                intersect: false,
                mode: 'index'
            }
        }
    });
}

// Performance Radar Chart
function initPerformanceRadarChart(data = null) {
    const ctx = document.getElementById('performanceRadarChart');
    if (!ctx) return;

    // Destroy existing chart if it exists
    if (performanceRadarChart) {
        performanceRadarChart.destroy();
    }

    let chartData;
    // Normalize the data to percentages (0-100 scale)
    const maxValue = Math.max(data.sales, data.clients, data.products, data.costs, data.supply);
    chartData = [
        Math.round((data.sales / maxValue) * 100),
        Math.round((data.clients / maxValue) * 100),
        Math.round((data.products / maxValue) * 100),
        Math.round((data.costs / maxValue) * 100),
        Math.round((data.supply / maxValue) * 100)
    ];
    

    performanceRadarChart = new Chart(ctx, {
        type: 'radar',
        data: {
            labels: [
                'Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª',
                'Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡',
                'Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª',
                'Ø§Ù„ØªÙƒØ§Ù„ÙŠÙ',
                'Ø§Ù„ØªÙˆØ±ÙŠØ¯',
            ],
            datasets: [{
                label: 'Ø§Ù„Ø£Ø¯Ø§Ø¡',
                data: chartData,
                borderColor: chartColors.primary,
                backgroundColor: 'rgba(102, 126, 234, 0.2)',
                borderWidth: 2,
                pointBackgroundColor: chartColors.primary,
                pointBorderColor: '#fff',
                pointBorderWidth: 2,
                pointRadius: 5
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    display: false
                },
                tooltip: {
                    backgroundColor: 'rgba(0, 0, 0, 0.8)',
                    titleColor: '#fff',
                    bodyColor: '#fff',
                    cornerRadius: 8
                }
            },
            scales: {
                r: {
                    beginAtZero: true,
                    max: 100,
                    grid: {
                        color: 'rgba(0, 0, 0, 0.1)'
                    },
                    pointLabels: {
                        font: {
                            size: 12
                        }
                    },
                    ticks: {
                        display: false
                    }
                }
            }
        }
    });
}

// Client Growth Chart
function initClientGrowthChart(data) {
    const ctx = document.getElementById('clientGrowthChart');
    if (!ctx) return;

    // Destroy existing chart if it exists
    if (clientGrowthChart) {
        clientGrowthChart.destroy();
    }

    const gradient = ctx.getContext('2d').createLinearGradient(0, 0, 0, 400);
    gradient.addColorStop(0, 'rgba(40, 167, 69, 0.3)');
    gradient.addColorStop(1, 'rgba(40, 167, 69, 0.05)');

    clientGrowthChart = new Chart(ctx, {
        type: 'line',
        data: {
            labels: data.labels,
            datasets: [{
                label: 'Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡',
                data: data.data,
                borderColor: chartColors.success,
                backgroundColor: gradient,
                borderWidth: 3,
                fill: true,
                tension: 0.4,
                pointBackgroundColor: chartColors.success,
                pointBorderColor: '#fff',
                pointBorderWidth: 2,
                pointRadius: 6,
                pointHoverRadius: 8
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    display: false
                },
                tooltip: {
                    backgroundColor: 'rgba(0, 0, 0, 0.8)',
                    titleColor: '#fff',
                    bodyColor: '#fff',
                    cornerRadius: 8
                }
            },
            scales: {
                y: {
                    beginAtZero: true,
                    grid: {
                        color: 'rgba(0, 0, 0, 0.1)',
                        drawBorder: false
                    },
                    ticks: {
                        padding: 10
                    }
                },
                x: {
                    grid: {
                        display: false
                    },
                    ticks: {
                        padding: 10
                    }
                }
            },
            interaction: {
                intersect: false,
                mode: 'index'
            }
        }
    });
}

// Top Products Chart (Horizontal Bar)
function initTopProductsChart(data) {
    const ctx = document.getElementById('topProductsChart');
    if (!ctx) return;

    // Destroy existing chart if it exists
    if (topProductsChart) {
        topProductsChart.destroy();
    }

    topProductsChart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: data.labels,
            datasets: [{
                label: 'products.sold',
                data: data.data,
                backgroundColor: chartColors.gradient2,
                borderColor: chartColors.secondary,
                borderWidth: 1,
                borderRadius: 4,
                borderSkipped: false
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            indexAxis: 'y',
            plugins: {
                legend: {
                    display: false
                },
                tooltip: {
                    backgroundColor: 'rgba(0, 0, 0, 0.8)',
                    titleColor: '#fff',
                    bodyColor: '#fff',
                    cornerRadius: 8
                }
            },
            scales: {
                x: {
                    beginAtZero: true,
                    grid: {
                        color: 'rgba(0, 0, 0, 0.1)',
                        drawBorder: false
                    },
                    ticks: {
                        padding: 10
                    }
                },
                y: {
                    grid: {
                        display: false
                    },
                    ticks: {
                        padding: 10
                    }
                }
            }
        }
    });
}

// Sales Funnel Chart
function initSalesFunnelChart(data) {
    const ctx = document.getElementById('salesFunnelChart');
    if (!ctx) return;

    // Destroy existing chart if it exists
    if (salesFunnelChart) {
        salesFunnelChart.destroy();
    }

    salesFunnelChart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: ['Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ Ø§Ù„Ù…Ø­ØªÙ…Ù„ÙŠÙ†', 'Ø§Ù„Ù…Ø±Ø´Ø­ÙŠÙ†', 'Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡'],
            datasets: [{
                label: 'Ù…Ø³Ø§Ø± Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª',
                data: [data.leads, data.prospects, data.customers],
                backgroundColor: [
                    chartColors.primary,
                    chartColors.secondary,
                    chartColors.success
                ],
                borderColor: [
                    chartColors.primary,
                    chartColors.secondary,
                    chartColors.success
                ],
                borderWidth: 1,
                borderRadius: 4,
                borderSkipped: false
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    display: false
                },
                tooltip: {
                    backgroundColor: 'rgba(0, 0, 0, 0.8)',
                    titleColor: '#fff',
                    bodyColor: '#fff',
                    cornerRadius: 8
                }
            },
            scales: {
                y: {
                    beginAtZero: true,
                    grid: {
                        color: 'rgba(0, 0, 0, 0.1)',
                        drawBorder: false
                    },
                    ticks: {
                        padding: 10
                    }
                },
                x: {
                    grid: {
                        display: false
                    },
                    ticks: {
                        padding: 10
                    }
                }
            }
        }
    });
}

// Stock Status Chart
function initStockStatusChart(data = null) {
    const ctx = document.getElementById('stockStatusChart');
    if (!ctx) return;

    // Destroy existing chart if it exists
    if (stockStatusChart) {
        stockStatusChart.destroy();
    }

    let chartData = [data.in, data.low, data.out];

    stockStatusChart = new Chart(ctx, {
        type: 'doughnut',
        data: {
            labels: ['Ù…ØªÙˆÙØ±', 'Ù…Ø®Ø²ÙˆÙ† Ù…Ù†Ø®ÙØ¶', 'ØºÙŠØ± Ù…ØªÙˆÙØ±'],
            datasets: [{
                data: chartData,
                backgroundColor: [
                    chartColors.success,
                    chartColors.warning,
                    chartColors.danger
                ],
                borderWidth: 3,
                borderColor: '#fff',
                hoverBorderWidth: 4
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            cutout: '60%',
            plugins: {
                legend: {
                    position: 'bottom',
                    labels: {
                        padding: 20,
                        usePointStyle: true
                    }
                },
                tooltip: {
                    backgroundColor: 'rgba(0, 0, 0, 0.8)',
                    titleColor: '#fff',
                    bodyColor: '#fff',
                    cornerRadius: 8,
                    callbacks: {
                        label: function(context) {
                            const total = context.dataset.data.reduce((a, b) => a + b, 0);
                            const percentage = ((context.parsed / total) * 100).toFixed(1);
                            return `${context.label}: ${context.parsed} (${percentage}%)`;
                        }
                    }
                }
            }
        }
    });
}



// Ingredients Alerts Chart (Horizontal Bar Chart)
function initIngredientsAlertsChart(data) {
    const ctx = document.getElementById('ingredientsAlertsChart');
    if (!ctx) return;

    // Destroy existing chart if it exists
    if (ingredientsAlertsChart) {
        ingredientsAlertsChart.destroy();
    }

    // Update alerts count badge
    const alertsCount = document.getElementById('alertsCount');
    const alertsDetails = document.getElementById('alertsDetails');
    const alertsGrid = document.getElementById('alertsGrid');

    if (data && data.count > 0) {
        alertsCount.textContent = data.count;
        alertsCount.className = 'badge badge-danger';

        // Show details section
        alertsDetails.style.display = 'block';

        // Populate alerts grid
        alertsGrid.innerHTML = '';
        data.details.forEach(alert => {
            const alertItem = document.createElement('div');
            alertItem.className = 'col-md-6 col-lg-4 mb-2';

            const badgeClass = alert.status === 'danger' ? 'badge-danger' : 'badge-warning';
            const icon = alert.status === 'danger' ? 'fa-times-circle' : 'fa-exclamation-triangle';

            alertItem.innerHTML = `
                <div class="alert no-remove alert-${alert.status === 'danger' ? 'danger' : 'warning'} fade show mb-2" role="alert">
                    <i class="fa ${icon} me-2"></i>
                    <strong>${alert.name}</strong><br>
                    <small>${alert.type}: ${alert.value}</small>
                </div>
            `;
            alertsGrid.appendChild(alertItem);
        });

        // Create chart data for doughnut
        const chartData = {
            labels: data.labels || [],
            datasets: [{
                data: data.data || [],
                backgroundColor: data.statuses.map(status =>
                    status === 'danger' ? chartColors.danger : chartColors.warning
                ),
                borderColor: '#fff',
                borderWidth: 2,
                hoverBorderWidth: 3
            }]
        };

        ingredientsAlertsChart = new Chart(ctx, {
            type: 'doughnut',
            data: chartData,
            options: {
                responsive: true,
                maintainAspectRatio: false,
                cutout: '60%',
                plugins: {
                    legend: {
                        position: 'bottom',
                        labels: {
                            padding: 20,
                            usePointStyle: true,
                            generateLabels: function(chart) {
                                const data = chart.data;
                                if (data.labels.length && data.datasets.length) {
                                    return data.labels.map((label, i) => {
                                        const dataset = data.datasets[0];
                                        const value = dataset.data[i];
                                        const type = chart.config._config.data.types ? chart.config._config.data.types[i] : '';
                                        return {
                                            text: `${label} (${type})`,
                                            fillStyle: dataset.backgroundColor[i],
                                            strokeStyle: dataset.borderColor,
                                            lineWidth: dataset.borderWidth,
                                            hidden: false,
                                            index: i
                                        };
                                    });
                                }
                                return [];
                            }
                        }
                    },
                    tooltip: {
                        backgroundColor: 'rgba(0, 0, 0, 0.8)',
                        titleColor: '#fff',
                        bodyColor: '#fff',
                        cornerRadius: 8,
                        callbacks: {
                            label: function(context) {
                                const index = context.dataIndex;
                                const type = data.types[index];
                                const value = context.parsed;
                                return `${type}: ${value}`;
                            }
                        }
                    }
                },
                interaction: {
                    intersect: false
                }
            }
        });

        // Store types for legend generation
        ingredientsAlertsChart.config._config.data.types = data.types;
    } else {
        // No alerts
        alertsCount.textContent = '0';
        alertsCount.className = 'badge badge-success';
        alertsDetails.style.display = 'none';

        // Show "No alerts" message
        const noAlertsChart = new Chart(ctx, {
            type: 'doughnut',
            data: {
                labels: ['Ù„Ø§ ØªÙˆØ¬Ø¯ ØªÙ†Ø¨ÙŠÙ‡Ø§Øª'],
                datasets: [{
                    data: [1],
                    backgroundColor: [chartColors.success],
                    borderWidth: 0
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                cutout: '70%',
                plugins: {
                    legend: {
                        display: false
                    },
                    tooltip: {
                        enabled: false
                    }
                }
            }
        });

        ingredientsAlertsChart = noAlertsChart;
    }
}

// Expiry Alerts Chart (Polar Area Chart)
function initExpiryAlertsChart(data) {
    const ctx = document.getElementById('expiryAlertsChart');
    if (!ctx) return;

    // Destroy existing chart if it exists
    if (expiryAlertsChart) {
        expiryAlertsChart.destroy();
    }

    // Update expiry count badge
    const expiryCount = document.getElementById('expiryCount');
    const expiryDetails = document.getElementById('expiryDetails');
    const expiryGrid = document.getElementById('expiryGrid');

    if (data && data.count > 0) {
        expiryCount.textContent = data.count;
        expiryCount.className = 'badge badge-danger';

        // Show details section
        expiryDetails.style.display = 'block';

        // Populate expiry grid
        expiryGrid.innerHTML = '';
        data.details.forEach(alert => {
            const alertItem = document.createElement('div');
            alertItem.className = 'col-12 mb-2';

            const badgeClass = alert.status === 'danger' ? 'badge-danger' : 'badge-warning';
            const icon = alert.status === 'danger' ? 'fa-times-circle' : 'fa-clock';

            alertItem.innerHTML = `
                <div class="alert  no-remove alert-${alert.status === 'danger' ? 'danger' : 'warning'} alert-dismissible fade show mb-2" role="alert">
                    <i class="fa ${icon} me-2"></i>
                    <strong>${alert.name}</strong><br>
                    <small>${alert.type} - ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡: ${alert.expiry_date}</small>
                </div>
            `;
            expiryGrid.appendChild(alertItem);
        });

        // Create chart data for horizontal bar
        const chartData = {
            labels: data.labels || [],
            datasets: [{
                label: 'Ø§Ù„Ø£ÙŠØ§Ù… Ø§Ù„Ù…ØªØ¨Ù‚ÙŠØ©',
                data: data.data || [],
                backgroundColor: data.statuses.map(status =>
                    status === 'danger' ? chartColors.danger : chartColors.warning
                ),
                borderColor: data.statuses.map(status =>
                    status === 'danger' ? chartColors.danger : chartColors.warning
                ),
                borderWidth: 1,
                borderRadius: 4,
                borderSkipped: false
            }]
        };

        expiryAlertsChart = new Chart(ctx, {
            type: 'bar',
            data: chartData,
            options: {
                responsive: true,
                maintainAspectRatio: false,
                indexAxis: 'y', // Horizontal bars
                plugins: {
                    legend: {
                        display: false
                    },
                    tooltip: {
                        backgroundColor: 'rgba(0, 0, 0, 0.8)',
                        titleColor: '#fff',
                        bodyColor: '#fff',
                        cornerRadius: 8,
                        callbacks: {
                            label: function(context) {
                                const index = context.dataIndex;
                                const type = data.types[index];
                                const value = Math.floor(context.parsed.x); // Ø¹Ø±Ø¶ ÙƒØ±Ù‚Ù… ØµØ­ÙŠØ­
                                return `${type}`;
                            }
                        }
                    }
                },
                scales: {
                    x: {
                        beginAtZero: true,
                        max: 7,
                        ticks: {
                            stepSize: 1,
                            callback: function(value) {
                                return Math.floor(value) + ' Ø£ÙŠØ§Ù…'; // Ø¹Ø±Ø¶ ÙƒØ±Ù‚Ù… ØµØ­ÙŠØ­
                            }
                        },
                        grid: {
                            color: 'rgba(0, 0, 0, 0.1)',
                            drawBorder: false
                        }
                    },
                    y: {
                        grid: {
                            display: false
                        },
                        ticks: {
                            padding: 10,
                            maxRotation: 0,
                            callback: function(value, index) {
                                const label = this.getLabelForValue(value);
                                return label.length > 12 ? label.substring(0, 12) + './...' : label;
                            }
                        }
                    }
                },
                interaction: {
                    intersect: false,
                    mode: 'index'
                }
            }
        });

        // Store types for legend generation
        expiryAlertsChart.config._config.data.types = data.types;
    } else {
        // No expiry alerts
        expiryCount.textContent = '0';
        expiryCount.className = 'badge badge-success';
        expiryDetails.style.display = 'none';

        // Show "No expiry alerts" message
        const noExpiryChart = new Chart(ctx, {
            type: 'doughnut',
            data: {
                labels: ['Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø¨ØµÙ„Ø§Ø­ÙŠØ© Ø¬ÙŠØ¯Ø©'],
                datasets: [{
                    data: [1],
                    backgroundColor: [chartColors.success],
                    borderWidth: 0
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                cutout: '70%',
                plugins: {
                    legend: {
                        display: false
                    },
                    tooltip: {
                        enabled: false
                    }
                }
            }
        });

    }
}

// Fallback dummy data
function initChartsWithDummyData() {
    const dummyMonthlyData = {
        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
        sales: [0, 0, 0, 0, 0, 0],
        revenue: [0, 0, 0, 0, 0, 0]
    };

    const dummyPaymentData = {
        labels: ['Cash', 'Credit Card', 'Bank Transfer'],
        data: [1, 1, 1]
    };

    const dummyCategoriesData = {
        labels: ['a', 'b', 'c'],
        data: [1, 1, 1]
    };

    const dummyTopProductsData = {
        labels: ['', '', ''],
        data: [0, 0, 0]
    };

    const dummyClientGrowthData = {
        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
        data: [0, 0, 0, 0, 0, 0]
    };

    const dummySalesVsCostsData = {
        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
        sales: [0, 0, 0, 0, 0, 0],
        costs: [0, 0, 0, 0, 0, 0]
    };

    // Dummy data for charts that expect richer objects
    const dummyPerformanceStatus = {
        sales: 50,
        clients: 40,
        products: 30,
        costs: 60,
        supply: 20
    };

    const dummySalesFunnelData = {
        leads: 50,
        prospects: 30,
        customers: 10
    };

    const dummyStockStatus = {
        in: 100,
        low: 10,
        out: 2
    };

    const dummyIngredientsAlerts = {
        count: 0,
        details: [],
        labels: [],
        data: [],
        statuses: []
    };

    const dummyExpiryAlerts = {
        count: 0,
        details: [],
        labels: [],
        data: [],
        statuses: []
    };

    initSalesOverviewChart(dummyMonthlyData);
    initRevenueDistributionChart(dummyPaymentData);
    initMonthlySalesChart(dummyMonthlyData);
    initCategoriesChart(dummyCategoriesData);
    initSalesVsCostsChart(dummySalesVsCostsData);
    // Pass explicit dummy objects so chart initializers can operate without null
    initPerformanceRadarChart(dummyPerformanceStatus);
    initClientGrowthChart(dummyClientGrowthData);
    initTopProductsChart(dummyTopProductsData);
    initSalesFunnelChart(dummySalesFunnelData);
    initStockStatusChart(dummyStockStatus);
    initIngredientsAlertsChart(dummyIngredientsAlerts);
    initExpiryAlertsChart(dummyExpiryAlerts);
}

// Initialize charts when DOM is loaded
document.addEventListener('DOMContentLoaded', function() {
    initializeCharts();
});

// Refresh charts function
function refreshCharts() {
    // Destroy existing charts
    [salesOverviewChart, revenueDistributionChart, monthlySalesChart, categoriesChart,
     salesVsCostsChart, performanceRadarChart, clientGrowthChart, topProductsChart,
     salesFunnelChart, stockStatusChart, ingredientsAlertsChart, expiryAlertsChart].forEach(chart => {
        if (chart) chart.destroy();
    });

    // Reinitialize
    initializeCharts();
}

</script>
<script>
var win = navigator.platform.indexOf('Win') > -1;
if (win && document.querySelector('#sidenav-scrollbar')) {
    var options = {
    damping: '0.5'
    }
    Scrollbar.init(document.querySelector('#sidenav-scrollbar'), options);
}
</script>




<script>
    var win = navigator.platform.indexOf('Win') > -1;
    if (win && document.querySelector('#sidenav-scrollbar')) {
      var options = {
        damping: '0.5'
      }
      Scrollbar.init(document.querySelector('#sidenav-scrollbar'), options);
    }
</script>


<!-- Github buttons -->
<script async defer src="/assets/js/buttons.js"></script>


<script src="/assets/js/soft-ui-dashboard.min.js"></script>
    </body>



</html>


